{"version":3,"sources":["webpack:///./src/views/otherPages/debounce.vue?1e43","webpack:///./src/views/otherPages/debounce.vue","webpack:///./src/views/otherPages/debounce.vue?29a6"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_2","onClick","$options","_hoisted_3","$data","_toDisplayString","data","timeout","infoTxt","jumpFlag","methods","jump1","str","this","debounce","console","log","jump2","fn","wait","immediate","context","args","arguments","clearTimeout","callNow","setTimeout","apply","jump3","debounce1","jump4","__exports__","render"],"mappings":"kHAAA,W,6JCCOA,MAAM,Y,QACTC,eAA4B,SAAzB,yBAAqB,I,QAGxBA,eAAwB,SAArB,qBAAiB,I,SAGfD,MAAM,Q,iBAAsB,gB,gDAPnCE,eAWM,MAXN,EAWM,CAVJC,EACAF,eAAkD,UAAzCG,QAAK,eAAEC,QAAK,WAAW,aAChCJ,eAAmD,UAA1CG,QAAK,eAAEC,QAAK,WAAW,cAChCC,EACAL,eAAyC,UAAhCG,QAAK,oBAAEC,yBAAO,aACvBJ,eAA0C,UAAjCG,QAAK,oBAAEC,yBAAO,cACCE,4BAAxBL,eAGM,MAHN,EAGM,GADJD,eAAoB,SAAAO,eAAdD,WAAO,MAFf,wB,gBASW,GACbE,OACE,MAAO,CACLC,QAAS,KACTC,QAAS,GACTC,SAAU,KAGdC,QAAS,CACPC,MAAMC,GAEAC,KAAKJ,UAAYG,IACnBC,KAAKJ,SAAWG,EAChBC,KAAKN,QAAU,MAEjBM,KAAKC,UACH,WACEC,QAAQC,IAAI,WACZH,KAAKL,QAAU,mCAEjB,KACA,IAGJS,MAAML,GACJC,KAAKJ,SAAWG,EAChBC,KAAKC,UACH,WACEC,QAAQC,IAAI,WACZH,KAAKL,QAAU,oCAEjB,KACA,IAGJM,SAASI,EAAIC,EAAMC,GACjB,IAAIC,EAAUR,KACVS,EAAOC,UAKX,GAJIV,KAAKN,SACPiB,aAAaX,KAAKN,SAGhBa,EAAW,CAEbL,QAAQC,IAAI,aACZ,IAAIS,GAAWZ,KAAKN,QAEpBM,KAAKN,QAAUmB,WAAW,KACxBb,KAAKN,QAAU,MACdY,GAECM,GACFP,EAAGS,MAAMN,EAASC,QAIpBP,QAAQC,IAAI,cACZH,KAAKN,QAAUmB,WAAW,KACxBR,EAAGS,MAAMN,EAASC,IACjBH,IAGPS,MAAOC,gBACL,WACEd,QAAQC,IAAI,WACZH,KAAKL,QAAU,+BAEjB,KACA,GAEFsB,MAAOD,gBACL,WACEd,QAAQC,IAAI,WACZH,KAAKL,QAAU,gCAEjB,KACA,K,iCCtFN,MAAMuB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E","file":"js/chunk-3d44853e.33cb3da9.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./debounce.vue?vue&type=style&index=0&id=33d5b4ec&lang=less&scoped=true\"","<template>\r\n  <div class=\"cont-box\">\r\n    <p>methods中定义debounce方法:</p>\r\n    <button @click=\"jump1('jump1')\">总是执行第一次操作</button>\r\n    <button @click=\"jump2('jump2')\">总是执行最后一次操作</button>\r\n    <p>引入封装好的debounce方法:</p>\r\n    <button @click=\"jump3\">总是执行第一次操作</button>\r\n    <button @click=\"jump4\">总是执行最后一次操作</button>\r\n    <div class=\"info\" v-if=\"infoTxt\">\r\n      调用方法及执行情况：\r\n      <p>{{ infoTxt }}</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { debounce1 } from \"@/utility/global\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      timeout: null,\r\n      infoTxt: \"\",\r\n      jumpFlag: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    jump1(str) {\r\n      // 判断是否是第一次点击，当一个页面里只调用一次debounce函数时不需要（引入js中使用的debounce也不需要）\r\n      if (this.jumpFlag != str) {\r\n        this.jumpFlag = str;\r\n        this.timeout = null;\r\n      }\r\n      this.debounce(\r\n        function () {\r\n          console.log(\"执行jump1\");\r\n          this.infoTxt = \"methods中定义debounce方法：总是执行第一次操作\";\r\n        },\r\n        2000,\r\n        true\r\n      );\r\n    },\r\n    jump2(str) {\r\n      this.jumpFlag = str;\r\n      this.debounce(\r\n        function () {\r\n          console.log(\"执行jump2\");\r\n          this.infoTxt = \"methods中定义debounce方法：总是执行最后一次操作\";\r\n        },\r\n        2000,\r\n        false\r\n      );\r\n    },\r\n    debounce(fn, wait, immediate) {\r\n      let context = this;\r\n      let args = arguments;\r\n      if (this.timeout) {\r\n        clearTimeout(this.timeout);\r\n      }\r\n      // 清除计时器，但是timeout本身还在，只是不会在执行\r\n      if (immediate) {\r\n        // 总是执行第一次操作\r\n        console.log(\"总是执行第一次操作\");\r\n        let callNow = !this.timeout; // 第一次为true\r\n        // 多次操作，timeout初始化，多次触发只有当wait等待时间结束timeout才为空\r\n        this.timeout = setTimeout(() => {\r\n          this.timeout = null;\r\n        }, wait);\r\n        // 第一次为true, 执行\r\n        if (callNow) {\r\n          fn.apply(context, args);\r\n        }\r\n      } else {\r\n        // 总是执行最后一次操作\r\n        console.log(\"总是执行最后一次操作\");\r\n        this.timeout = setTimeout(() => {\r\n          fn.apply(context, args);\r\n        }, wait);\r\n      }\r\n    },\r\n    jump3: debounce1(\r\n      function () {\r\n        console.log(\"执行jump3\");\r\n        this.infoTxt = \"引入封装好的debounce方法：总是执行第一次操作\";\r\n      },\r\n      2000,\r\n      true\r\n    ),\r\n    jump4: debounce1(\r\n      function () {\r\n        console.log(\"执行jump4\");\r\n        this.infoTxt = \"引入封装好的debounce方法：总是执行最后一次操作\";\r\n      },\r\n      2000,\r\n      false\r\n    ),\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\nbutton {\r\n  display: inline-block;\r\n  margin-right: 10px;\r\n  margin-bottom: 10px;\r\n  padding: 0 10px;\r\n  height: 32px;\r\n  font-size: 14px;\r\n  line-height: 32px;\r\n  color: #fff;\r\n  background-color: #1f90e7;\r\n  border-radius: 6px;\r\n}\r\n.info {\r\n  padding: 50px 10px;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  p {\r\n    font-size: 16px;\r\n    color: #1f90e7;\r\n    line-height: 36px;\r\n    font-weight: normal;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./debounce.vue?vue&type=template&id=33d5b4ec&scoped=true\"\nimport script from \"./debounce.vue?vue&type=script&lang=js\"\nexport * from \"./debounce.vue?vue&type=script&lang=js\"\n\nimport \"./debounce.vue?vue&type=style&index=0&id=33d5b4ec&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\a\\\\jin-repo\\\\jin-repo\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-33d5b4ec\"]])\n\nexport default __exports__"],"sourceRoot":""}
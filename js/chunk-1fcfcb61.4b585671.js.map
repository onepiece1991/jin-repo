{"version":3,"sources":["webpack:///./src/components/base/date.vue?7df1","webpack:///./src/views/plugin/calendarNormal.vue","webpack:///./src/components/base/date.vue","webpack:///./src/components/base/date.vue?1579","webpack:///./src/views/plugin/calendarNormal.vue?c409"],"names":["class","_createElementBlock","_createElementVNode","_toDisplayString","$data","_createVNode","_component_Date","ref","onChoseDay","$options","onChangeMonth","onIsToday","markDate","_hoisted_11","onClick","_ctx","_Fragment","_renderList","thTxt","i","key","item","j","tdList","cell","k","otherMonth","festivalDay","sign","data-date","yearNo","toString","monthNo","daynumber","weekend","weekendsDay","_hoisted_12","Nowtime","Date","currYear","getFullYear","currMonth","getMonth","currDay","getDate","props","type","Array","default","data","weekdays","weekends","thList","yearList","monthList","tbodyList","selectedDay","isFestivalDay","created","this","selectedYear","selectedMonth","getWeekData","mounted","$nextTick","setTimeout","initCalendar","methods","y","m","createCalendar","localServer","get","then","res","catch","error","console","log","JSON","stringify","currentStyle","i1","i2","dayInfo","cellSelected","j1","j2","dayInfo2","pervLastDay","fixedDate","setdateinfo","firstDay","getDay","pervMonthlastDay","getPervMonthLastDay","lastdays","tbodyListResult","tdListResult","previ","tdData","signDayTxt","parseInt","push","startDays","curri","tdData2","currMonthLashDay","getCurrMonthLashDay","loopT","lastFirstDay","tbodyListResult3","tdListResult3","tdData3","almanac","concat","year","month","day","date1","setFullYear","setMonth","check","c","r","test","d","weekDTxt","weekDArr","split","weekETxt","weekEArr","clickDate","n","dateInfo","$emit","prevYear","nextYear","prevMonth","nextMonth","backtoToday","markStyle","markArr","__exports__","markDateArr","sY","sM","sD","initSelectedDate","$refs","date","substr","clickdDay","clickMonth","clickToday","components","render"],"mappings":"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","file":"js/chunk-1fcfcb61.4b585671.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./date.vue?vue&type=style&index=0&id=293da161&lang=less&scoped=true\"","<template>\r\n  <div class=\"cont-box\">\r\n    <p>选中的日期: {{ selectedDay }}</p>\r\n    <Date\r\n      ref=\"date\"\r\n      @choseDay=\"clickdDay\"\r\n      @changeMonth=\"clickMonth\"\r\n      @isToday=\"clickToday\"\r\n      :markDate=\"markDateArr\"\r\n    ></Date>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { localServer } from \"@/utility/global\";\r\nimport Date from \"@/components/base/date\";\r\n// choseDay： 选中某天调用的方法，返回选中的日期 YY-MM-DD; 默认：无\t（非必传）\r\n// changeMonth： 切换月份调用的方法，返回切换到某月的日期 YY-MM-DD; 默认：无\t（非必传）\r\n// isToday： 切换月份的时候，如果切到当前月份，调用这个方法，返回当前月今天; 默认：无\t（非必传）\r\n// markDate： 如果需要某月的几天被标注，传当月的日期数组。如[\"2018/2/2\",\"2018/2/6\"]被会标注（相同的标记）; 默认：空数组\t（非必传）\r\n// agoDayHide： 某个日期以前的不允许点击,时间戳长度是 10 位; 默认：0\t（非必传）\r\n// futureDayHide： 某个日期以后的不允许点击,时间戳长度是 10 位; 默认：很大\t（非必传）\r\n// sundayStart： 默认是周一开始 当是true的时候 是周日开始; 默认：false\t（非必传）\r\n// textTop：日历头部的文字，默认是 [ '一', '二', '三', '四', '五', '六', '日'] ，可以根据自己的需求进行不同的修改。\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      selectedDay: \"\",\r\n      markDateArr: [],\r\n      sY: \"\",\r\n      sM: \"\",\r\n      sD: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    this.getWeekData();\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.initSelectedDate();\r\n    });\r\n  },\r\n  methods: {\r\n    // 得到选中的年（sY）月（sM）日（sD）; 选中的日期selectedDay:YY-MM-DD\r\n    initSelectedDate() {\r\n      this.sY = this.$refs.date.selectedYear;\r\n      this.sM = this.$refs.date.selectedMonth;\r\n      this.sD = this.$refs.date.selectedDay;\r\n      this.selectedDay =\r\n        this.sY +\r\n        \"-\" +\r\n        (\"00\" + this.sM).substr(-2, 2) +\r\n        \"-\" +\r\n        (\"00\" + this.sD).substr(-2, 2);\r\n    },\r\n    // 选中某天\r\n    clickdDay() {\r\n      this.initSelectedDate();\r\n    },\r\n    // 切换月份\r\n    clickMonth() {\r\n      this.initSelectedDate();\r\n    },\r\n    // 点击返回今天\r\n    clickToday() {\r\n      this.initSelectedDate();\r\n    },\r\n    getWeekData() {\r\n      localServer\r\n        .get(\"/baseD/mark.json\")\r\n        .then((res) => {\r\n          this.markDateArr = res.data.markDate;\r\n        })\r\n        .catch((error) => {\r\n          console.log(JSON.stringify(error));\r\n        });\r\n    },\r\n  },\r\n  components: { Date },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped></style>\r\n","<template>\r\n  <div class=\"cont-box\">\r\n    <div class=\"c-header\">\r\n      <div class=\"c-btn\" @click=\"prevYear\">&lt;&lt;</div>\r\n      <div class=\"c-btn\" @click=\"prevMonth\">&lt;</div>\r\n      <div class=\"c-seleced\">{{ selectedYear }}年{{ selectedMonth }}月</div>\r\n      <div class=\"c-btn\" @click=\"nextMonth\">&gt;</div>\r\n      <div class=\"c-btn\" @click=\"nextYear\">&gt;&gt;</div>\r\n    </div>\r\n    <div class=\"content-box\">\r\n      <!-- thead -->\r\n      <div class=\"content-thead\">\r\n        <div class=\"content-th\" v-for=\"(thTxt, i) in thList\" :key=\"i\">\r\n          {{ thTxt }}\r\n        </div>\r\n      </div>\r\n      <div class=\"content-row\" v-for=\"(item, j) in tbodyList\" :key=\"j\">\r\n        <div class=\"content-td\" v-for=\"(cell, k) in item.tdList\" :key=\"k\">\r\n          <div\r\n            class=\"cell-box\"\r\n            :class=\"{\r\n              other: cell.otherMonth,\r\n              festival: cell.festivalDay,\r\n              'cell-weekday-box': cell.sign == '班',\r\n              'cell-weekend-box': cell.sign == '休',\r\n              selected: cellSelected(j, k),\r\n              today: currentStyle(j, k),\r\n            }\"\r\n            :data-date=\"\r\n              cell.yearNo.toString() +\r\n              '-' +\r\n              cell.monthNo.toString() +\r\n              '-' +\r\n              cell.daynumber.toString()\r\n            \"\r\n            @click=\"clickDate(j, k)\"\r\n          >\r\n            <div class=\"cell-holiday-sign\">{{ cell.sign }}</div>\r\n            <div class=\"cell-daynumber\" :class=\"{ weekend: cell.weekendsDay }\">\r\n              <span class=\"number\">{{ cell.daynumber }}</span>\r\n            </div>\r\n            <div class=\"cell-almanac\" v-if=\"currentStyle(j, k)\">今天</div>\r\n            <div class=\"cell-mark\" v-if=\"markStyle(j, k)\"><i></i></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <button class=\"back-today\" ref=\"todayS\" @click=\"backtoToday\">\r\n      返回今天\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { localServer } from \"@/utility/global\";\r\n\r\nconst Nowtime = new Date();\r\n//当前年份\r\nconst currYear = Nowtime.getFullYear();\r\n//当前月份\r\nconst currMonth = Nowtime.getMonth() + 1;\r\n//当前日\r\nconst currDay = Nowtime.getDate();\r\n\r\nexport default {\r\n  props: {\r\n    markDate: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      weekdays: [], // 班\r\n      weekends: [], // 休\r\n      currYear: currYear,\r\n      currMonth: currMonth,\r\n      currDay: currDay,\r\n      thList: [\"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"日\"],\r\n      yearList: [], //年份列表\r\n      monthList: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],\r\n      tbodyList: [],\r\n      selectedDay: \"\",\r\n      isFestivalDay: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.selectedYear = this.currYear;\r\n    this.selectedMonth = this.currMonth;\r\n    this.selectedDay = this.currDay;\r\n    // 年份列表\r\n    for (let i = 1900; i <= 2050; i++) {\r\n      this.yearList[i - 1900] = i;\r\n    }\r\n    this.getWeekData();\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      setTimeout(() => {\r\n        this.initCalendar(this.selectedYear, this.selectedMonth);\r\n      }, 200);\r\n    });\r\n  },\r\n  methods: {\r\n    initCalendar(y, m) {\r\n      this.createCalendar(y, m);\r\n    },\r\n    getWeekData() {\r\n      localServer\r\n        .get(\"/baseD/week.json\")\r\n        .then((res) => {\r\n          this.weekdays = res.data.weekdays;\r\n          this.weekends = res.data.weekends;\r\n        })\r\n        .catch((error) => {\r\n          console.log(JSON.stringify(error));\r\n        });\r\n    },\r\n    // 今天\r\n    currentStyle(i1, i2) {\r\n      let dayInfo = this.tbodyList[i1].tdList[i2];\r\n      if (\r\n        dayInfo.yearNo == this.currYear &&\r\n        dayInfo.monthNo == this.currMonth &&\r\n        dayInfo.daynumber == this.currDay\r\n      ) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    // 选中\r\n    cellSelected(j1, j2) {\r\n      let dayInfo2 = this.tbodyList[j1].tdList[j2];\r\n      if (\r\n        dayInfo2.yearNo == this.selectedYear &&\r\n        dayInfo2.monthNo == this.selectedMonth &&\r\n        dayInfo2.daynumber == this.selectedDay\r\n      ) {\r\n        // 如果被选中的是节假日当天\r\n        if (dayInfo2.festivalDay) {\r\n          this.isFestivalDay = true;\r\n        } else {\r\n          this.isFestivalDay = false;\r\n        }\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    // 根据年月绘制表格，年月变动则重新绘制\r\n    createCalendar(y, m) {\r\n      //先得到当前月第一天是星期几,然后根据这个星期算前面几天的上个月最后几天.\r\n      let fixedDate = this.setdateinfo(y, m, 1);\r\n      //当前月第一天星期几,星期一到星期日的值分别是1-2-3-4-5-6-0\r\n      let firstDay = fixedDate.getDay();\r\n      //上个月的最后一天是星期几\r\n      let pervLastDay;\r\n      if (firstDay != 0) {\r\n        pervLastDay = firstDay - 1;\r\n      } else {\r\n        pervLastDay = 6;\r\n      }\r\n      //得到上个月最后一天;\r\n      let pervMonthlastDay = this.getPervMonthLastDay(y, m);\r\n      //上月最后几天循环\r\n      let lastdays = pervMonthlastDay - pervLastDay + 1;\r\n      let tbodyListResult = [];\r\n      let tdListResult = [];\r\n      // tdData = {\r\n      //   sign: \"\",  取值：“班”;“休”\r\n      //   yearNo: 年\r\n      //   monthNo: 月\r\n      //   daynumber: \"\", 公立日期\r\n      //   almanac: \"\", 今天（old：农历日期）\r\n      //   weekendsDay: Boolean, 是否是周末\r\n      //   otherMonth: Boolean, 上个月和下个月取值true,当前月取值false\r\n      //   festivalDay: Boolean, 是否是假日当天\r\n      // };\r\n      for (let previ = lastdays; previ <= pervMonthlastDay; previ++) {\r\n        let tdData = {\r\n          // sign: this.signDayTxt(y, m - 1, previ),\r\n          sign: this.signDayTxt(\r\n            parseInt(m) - 1 > 0 ? y : parseInt(y) - 1,\r\n            parseInt(m) - 1 > 0 ? parseInt(m) - 1 : 12,\r\n            previ\r\n          ),\r\n          yearNo: parseInt(m) - 1 > 0 ? y : parseInt(y) - 1,\r\n          monthNo: parseInt(m) - 1 > 0 ? parseInt(m) - 1 : 12,\r\n          daynumber: previ,\r\n\r\n          weekendsDay: false,\r\n          otherMonth: true,\r\n        };\r\n        // if (JCLunar.solar2lunar(y, m, previ).nWeek > 5) {\r\n        //   tdData.weekendsDay = true;\r\n        // }\r\n        tdListResult.push(tdData);\r\n      }\r\n\r\n      //这个月开始的循环\r\n      //这个月startDays的取值 1-2-3-4-5-6-7\r\n      let startDays = 8 - firstDay == 8 ? 1 : 8 - firstDay;\r\n      for (let curri = 1; curri <= startDays; curri++) {\r\n        let tdData2 = {\r\n          sign: this.signDayTxt(y, m, curri),\r\n          yearNo: y,\r\n          monthNo: m,\r\n          daynumber: curri,\r\n          weekendsDay: false,\r\n          otherMonth: false,\r\n        };\r\n        // if (JCLunar.solar2lunar(y, m, curri).nWeek > 5) {\r\n        //   tdData2.weekendsDay = true;\r\n        // }\r\n        tdListResult.push(tdData2);\r\n      }\r\n\r\n      tbodyListResult.push({ tdList: tdListResult });\r\n\r\n      // 指定年月最后一天\r\n      let currMonthLashDay = this.getCurrMonthLashDay(y, m);\r\n      // 当月除开第一行的起点\r\n      // let currmonthStartDay = startDays + 1;\r\n      // 当月还剩余的天数\r\n      // let restDays = currMonthLashDay - startDays;\r\n      // 循环次数-每个月都有6行，就不需要计算循环次数；\r\n      let loopT = 5;\r\n      // if (this.check(restDays / 7)) {\r\n      //   //是小数\r\n      //   loopT = Math.ceil(restDays / 7); //向上取整\r\n      // } else {\r\n      //   loopT = restDays / 7;\r\n      // }\r\n      //这是下个月开始的变量;\r\n      let lastFirstDay = 1;\r\n      let tbodyListResult3 = [];\r\n      for (let i = 0; i < loopT; i++) {\r\n        let tdListResult3 = [];\r\n        for (let j = 0; j < 7; j++) {\r\n          let tdData3 = {\r\n            sign: \"\",\r\n            yearNo: \"\",\r\n            monthNo: \"\",\r\n            daynumber: \"\",\r\n            almanac: \"\",\r\n            weekendsDay: false,\r\n            otherMonth: false,\r\n            festivalDay: \"\",\r\n          };\r\n          if (startDays == 0) {\r\n            tdData3.sign = this.signDayTxt(\r\n              parseInt(m) + 1 == 13 ? parseInt(y) + 1 : y,\r\n              parseInt(m) + 1 == 13 ? 1 : parseInt(m) + 1,\r\n              lastFirstDay\r\n            );\r\n            tdData3.yearNo = parseInt(m) + 1 == 13 ? parseInt(y) + 1 : y;\r\n            tdData3.monthNo = parseInt(m) + 1 == 13 ? 1 : parseInt(m) + 1;\r\n            tdData3.daynumber = lastFirstDay;\r\n            tdData3.otherMonth = true;\r\n            lastFirstDay++;\r\n          } else {\r\n            startDays++;\r\n            tdData3.sign = this.signDayTxt(y, m, startDays);\r\n            tdData3.yearNo = y;\r\n            tdData3.monthNo = m;\r\n            tdData3.daynumber = startDays;\r\n            tdData3.otherMonth = false;\r\n            if (startDays == currMonthLashDay) {\r\n              //下个月\r\n              startDays = 0;\r\n            }\r\n          }\r\n          tdListResult3.push(tdData3);\r\n        }\r\n        tbodyListResult3.push({ tdList: tdListResult3 });\r\n      }\r\n      this.tbodyList = tbodyListResult.concat(tbodyListResult3);\r\n    },\r\n    //根据传入的年月日获取具体的时间信息\r\n    setdateinfo(year, month, day) {\r\n      let date1 = new Date();\r\n      date1.setFullYear(parseInt(year));\r\n      date1.setMonth(parseInt(month) - parseInt(1), parseInt(day));\r\n      return date1;\r\n    },\r\n    //得到指定月的上个月最后一天传进来按 12月算\r\n    getPervMonthLastDay(year, month) {\r\n      //当月就是  month-1 也就是计算机里面的0-11月份,那么算上个月的最后一天就是当月的0天\r\n      return parseInt(new Date(year, month - 1, 0).getDate());\r\n    },\r\n    // 计算是否是节假日\r\n\r\n    // 得到指定月最后一天，传进来按 12月算\r\n    getCurrMonthLashDay(year, month) {\r\n      if (month >= 12) {\r\n        year = year + 1;\r\n        month = month - 12;\r\n      }\r\n      return parseInt(new Date(year, month, 0).getDate());\r\n    },\r\n    //判断c是否是小数\r\n    check(c) {\r\n      let r = /^[+-]?[1-9]?[0-9]*\\.[0-9]*$/;\r\n      return r.test(c);\r\n    },\r\n    // 判断日期是“休”,“班”还是“”\r\n    signDayTxt(y, m, d) {\r\n      // weekdays: return \"班\"\r\n      // weekends: return \"休\"\r\n      for (let i in this.weekdays) {\r\n        let weekDTxt = this.weekdays[i];\r\n        let weekDArr = weekDTxt.split(\"-\");\r\n        if (\r\n          parseInt(weekDArr[0]) == y &&\r\n          parseInt(weekDArr[1]) == m &&\r\n          parseInt(weekDArr[2]) == d\r\n        ) {\r\n          return \"班\";\r\n        }\r\n      }\r\n      for (let j in this.weekends) {\r\n        let weekETxt = this.weekends[j];\r\n        let weekEArr = weekETxt.split(\"-\");\r\n        if (\r\n          parseInt(weekEArr[0]) == y &&\r\n          parseInt(weekEArr[1]) == m &&\r\n          parseInt(weekEArr[2]) == d\r\n        ) {\r\n          return \"休\";\r\n        }\r\n      }\r\n      return \"\";\r\n    },\r\n    // 点击某一天\r\n    clickDate(m, n) {\r\n      let dateInfo = this.tbodyList[m].tdList[n];\r\n      this.selectedYear = dateInfo.yearNo;\r\n      this.selectedMonth = dateInfo.monthNo;\r\n      this.selectedDay = dateInfo.daynumber;\r\n      this.initCalendar(this.selectedYear, this.selectedMonth);\r\n      this.$emit(\"choseDay\");\r\n    },\r\n    // 去年\r\n    prevYear() {\r\n      this.selectedYear = parseInt(this.selectedYear) - 1;\r\n      this.initCalendar(this.selectedYear, this.selectedMonth);\r\n    },\r\n    // 明年\r\n    nextYear() {\r\n      this.selectedYear = parseInt(this.selectedYear) + 1;\r\n      this.initCalendar(this.selectedYear, this.selectedMonth);\r\n    },\r\n    // 上一个月\r\n    prevMonth() {\r\n      this.selectedYear =\r\n        parseInt(this.selectedMonth) - 1 > 0\r\n          ? this.selectedYear\r\n          : parseInt(this.selectedYear) - 1;\r\n      this.selectedMonth =\r\n        parseInt(this.selectedMonth) - 1 > 0\r\n          ? parseInt(this.selectedMonth) - 1\r\n          : 12;\r\n      this.initCalendar(this.selectedYear, this.selectedMonth);\r\n      this.$emit(\"changeMonth\");\r\n    },\r\n    // 下一个月\r\n    nextMonth() {\r\n      this.selectedYear =\r\n        parseInt(this.selectedMonth) + 1 > 12\r\n          ? parseInt(this.selectedYear) + 1\r\n          : this.selectedYear;\r\n\r\n      this.selectedMonth =\r\n        parseInt(this.selectedMonth) + 1 > 12\r\n          ? 1\r\n          : parseInt(this.selectedMonth) + 1;\r\n      this.initCalendar(this.selectedYear, this.selectedMonth);\r\n      this.$emit(\"changeMonth\");\r\n    },\r\n    // 返回今天\r\n    backtoToday() {\r\n      this.selectedYear = this.currYear;\r\n      this.selectedMonth = this.currMonth;\r\n      this.selectedDay = this.currDay;\r\n      this.initCalendar(this.currYear, this.currMonth);\r\n      this.$emit(\"isToday\");\r\n    },\r\n    // 标记\r\n    markStyle(i1, i2) {\r\n      let dayInfo = this.tbodyList[i1].tdList[i2];\r\n      for (let i in this.markDate) {\r\n        let markArr = this.markDate[i].split(\"/\");\r\n        if (\r\n          markArr[0] == dayInfo.yearNo &&\r\n          markArr[1] == dayInfo.monthNo &&\r\n          markArr[2] == dayInfo.daynumber\r\n        ) {\r\n          return true;\r\n        } else continue;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.c-header {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  user-select: none;\r\n  .c-btn {\r\n    margin: 0 5px;\r\n    width: 30px;\r\n    height: 30px;\r\n    font-size: 14px;\r\n    line-height: 30px;\r\n    color: #2e8cff;\r\n    font-weight: bold;\r\n    text-align: center;\r\n    cursor: pointer;\r\n  }\r\n  .c-seleced {\r\n    margin: 0 5px;\r\n    width: 120px;\r\n    font-size: 14px;\r\n    line-height: 20px;\r\n    color: #2e8cff;\r\n    font-weight: bold;\r\n    text-align: center;\r\n  }\r\n}\r\n// 回到今天\r\n.back-today {\r\n  position: relative;\r\n  right: calc(-100% + 68px);\r\n  margin-top: 20px;\r\n  width: 68px;\r\n  height: 30px;\r\n  line-height: 30px;\r\n  text-align: center;\r\n  color: #fff;\r\n  background: #2e8cff;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  &:hover {\r\n    background: #315efb;\r\n  }\r\n}\r\n\r\n// 具体日期区域\r\n.content-box {\r\n  user-select: none;\r\n  .content-thead {\r\n    margin-top: 14px;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 36px;\r\n    display: flex;\r\n    .content-th {\r\n      flex: 1;\r\n      height: 13px;\r\n      justify-content: center;\r\n      align-items: center;\r\n      font-size: 13px;\r\n      color: #333333;\r\n      text-align: center;\r\n      line-height: 13px;\r\n    }\r\n  }\r\n  .content-row {\r\n    display: flex;\r\n    .content-td {\r\n      flex: 1;\r\n      padding: 2px;\r\n      .cell-box {\r\n        position: relative;\r\n        justify-content: center;\r\n        align-content: center;\r\n        align-items: center;\r\n        flex-direction: column;\r\n        border-radius: 6px;\r\n        height: 56px;\r\n        padding: 4px 2px 2px 2px;\r\n        box-sizing: border-box;\r\n        border: 2px solid transparent;\r\n        overflow: hidden;\r\n        line-height: 1;\r\n        zoom: 1;\r\n        cursor: pointer;\r\n        .cell-holiday-sign {\r\n          position: absolute;\r\n          left: 4px;\r\n          top: 4px;\r\n          color: #f73131;\r\n          font-size: 12px;\r\n          line-height: 12px;\r\n        }\r\n        .cell-daynumber {\r\n          display: flex;\r\n          justify-content: center;\r\n          align-items: center;\r\n          font-size: 14px;\r\n          line-height: 30px;\r\n          color: #000;\r\n          text-align: center;\r\n          .number {\r\n            width: 30px;\r\n            height: 30px;\r\n            background-color: transparent;\r\n            border-radius: 50%;\r\n          }\r\n          &.weekend {\r\n            color: #f73131;\r\n          }\r\n        }\r\n        .cell-almanac {\r\n          color: #333;\r\n          font-size: 12px;\r\n          text-align: center;\r\n        }\r\n        &.selected {\r\n          border: 2px solid #bdbfc8;\r\n        }\r\n        &.today {\r\n          border: 2px solid #4e6ef2 !important;\r\n          .number {\r\n            background-color: #2e8cff;\r\n            color: #fff;\r\n          }\r\n        }\r\n        &.cell-weekend-box {\r\n          background: #fde3e4;\r\n          &:hover {\r\n            border: 2px solid #f38686 !important;\r\n          }\r\n        }\r\n        &.cell-weekday-box {\r\n          background: #f5f5f6;\r\n          .cell-holiday-sign {\r\n            color: #626675;\r\n          }\r\n          .cell-daynumber {\r\n            &.weekend {\r\n              color: #000;\r\n            }\r\n          }\r\n        }\r\n        &.other {\r\n          filter: alpha(opacity=40);\r\n          opacity: 0.4;\r\n        }\r\n        &:hover {\r\n          border-color: #bdbfc8;\r\n        }\r\n        // &.festival {\r\n        //   &.selected {\r\n        //     border: 2px solid #f38686 !important;\r\n        //   }\r\n        // }\r\n        &.cell-weekend-box {\r\n          &.selected {\r\n            border: 2px solid #f38686 !important;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// 标记\r\n.cell-mark {\r\n  display: flex;\r\n  justify-content: center;\r\n  i {\r\n    width: 8px;\r\n    height: 8px;\r\n    border-radius: 50%;\r\n    background-color: #f0f;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./date.vue?vue&type=template&id=293da161&scoped=true\"\nimport script from \"./date.vue?vue&type=script&lang=js\"\nexport * from \"./date.vue?vue&type=script&lang=js\"\n\nimport \"./date.vue?vue&type=style&index=0&id=293da161&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\a\\\\jin-repo\\\\jin-repo\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-293da161\"]])\n\nexport default __exports__","import { render } from \"./calendarNormal.vue?vue&type=template&id=59a504c0\"\nimport script from \"./calendarNormal.vue?vue&type=script&lang=js\"\nexport * from \"./calendarNormal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\a\\\\jin-repo\\\\jin-repo\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}